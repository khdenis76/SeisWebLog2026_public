{% load static %}
<div class="row g-3">

  <!-- Project fleet (ProjectDB) -->
  <div class="col-lg-6">
    <div class="card shadow-sm">
      <div class="card-header d-flex justify-content-between align-items-center">
        <div class="fw-semibold">Project Fleet</div>
        <span class="badge bg-secondary" id="pf-count">0</span>
      </div>
      <div class="card-body p-2">
        <div class="table-responsive" style="max-height: 55vh;">
          <table class="table table-sm table-hover align-middle mb-0">
            <thead class="table-light sticky-top">
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>IMO</th>
                <th class="text-end">Actions</th>
              </tr>
            </thead>
            <tbody id="pf-tbody">
              <tr><td colspan="4" class="text-muted">Loading...</td></tr>
            </tbody>
          </table>
        </div>
        <div class="small text-muted mt-2">Stored inside ProjectDB table <code>project_fleet</code></div>
      </div>
    </div>
  </div>

  <!-- Django master fleet -->
  <div class="col-lg-6">
    <div class="card shadow-sm">
      <div class="card-header d-flex justify-content-between align-items-center">
        <div class="fw-semibold">Django Fleet (Master)</div>
        <span class="badge bg-secondary" id="df-count">0</span>
      </div>
      <div class="card-body p-2">
        <div class="input-group input-group-sm mb-2">
          <span class="input-group-text"><i class="fas fa-magnifying-glass"></i></span>
          <input class="form-control" id="df-search" placeholder="Search vessel...">
          <button class="btn btn-outline-secondary" id="df-search-btn">Search</button>
        </div>

        <div class="table-responsive" style="max-height: 55vh;">
          <table class="table table-sm table-hover align-middle mb-0">
            <thead class="table-light sticky-top">
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>IMO</th>
                <th class="text-end">Actions</th>
              </tr>
            </thead>
            <tbody id="df-tbody">
              <tr><td colspan="4" class="text-muted">Loading...</td></tr>
            </tbody>
          </table>
        </div>
        <div class="small text-muted mt-2">Master list stored in Django DB table <code>fleet_vessel</code></div>
      </div>
    </div>
  </div>

</div>

<!-- config for JS -->
<div id="project-fleet-panel"
     data-project-id="{{ project.id }}"
     data-pf-list-url="{% url 'api_project_fleet_list' project.id %}"
     data-df-list-url="{% url 'api_django_vessels_list' %}"
     data-add-url="{% url 'api_project_fleet_add_from_django' project.id %}"
     data-remove-url="{% url 'api_project_fleet_remove' project.id %}">
</div>